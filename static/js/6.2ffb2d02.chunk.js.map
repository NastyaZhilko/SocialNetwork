{"version":3,"sources":["components/common/FormControls/FormControls.module.css","Utils/validators.ts","components/common/FormControls/FormControls.tsx","components/Login/Login.tsx"],"names":["module","exports","required","value","maxLengthCreator","maxLength","length","minLength2","FormControl","meta","touched","error","children","hasError","className","styles","formControl","Textarea","props","input","restProps","Input","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","placeholder","name","component","validate","type","style","formSummaryError","connect","state","isAuth","auth","captcha","login","to","formData","email","password","rememberMe"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,YAAc,kCAAkC,MAAQ,4BAA4B,iBAAmB,yC,iCCCzH,sGAAO,IAAMC,EAA4B,SAACC,GACtC,IAAIA,EAEJ,MAAO,qBAGGC,EAAiB,SAACC,GAAD,OAAwC,SAACF,GACpE,GAAIA,GAASA,EAAMG,OAAOD,EAAW,MAAM,iBAAN,OAAwBA,EAAxB,cAK5BE,EAA8B,SAACJ,GACxC,GAAIA,GAASA,EAAMG,OAAO,EAAG,MAAO,4B,oJCP3BE,EAAyC,SAAC,GAAsC,IAAD,IAApCC,KAAMC,EAA8B,EAA9BA,QAASC,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,SACpEC,EAAWH,GAAWC,EAC5B,OACI,yBAAKG,UAAWC,IAAOC,YAAc,KAAOH,EAAWE,IAAOJ,MAAQ,KAClE,6BACKC,GAEJC,GAAY,8BAAOF,KAMnBM,EAAwC,SAACC,GAAW,IACvDC,EAA6BD,EAA7BC,MAAgBC,GAAaF,EAAtBT,KAD+C,YACzBS,EADyB,mBAE5D,OAAO,kBAACV,EAAgBU,EAAjB,KAA0B,8CAAcC,EAAWC,MAIjDC,EAAqC,SAACH,GAAW,IACnDC,EAA6BD,EAA7BC,MAAgBC,GAAaF,EAAtBT,KAD2C,YACrBS,EADqB,mBAEzD,OAAO,kBAACV,EAAgBU,EACpB,2CAAWC,EAAWC,O,iCC9B9B,uGAqDME,EAAiBC,YAA2C,CAACC,KAAM,SAAlDD,EA1B6E,SAAC,GAA0B,IAAzBE,EAAwB,EAAxBA,aAAad,EAAW,EAAXA,MAC/G,OACI,0BAAMe,SAAUD,GACZ,6BACI,kBAAC,IAAD,CAAOE,YAAa,QAASC,KAAM,QAASC,UAAWR,IAChDS,SAAU,CAAC5B,QAEtB,6BACI,kBAAC,IAAD,CAAOyB,YAAa,WAAaC,KAAM,WAAYC,UAAWR,IAAOU,KAAK,WACnED,SAAU,CAAC5B,QAEtB,6BACI,kBAAC,IAAD,CAAO2B,UAAWR,IAAOO,KAAM,aAAcG,KAAK,aADtD,gBAICpB,GAAS,yBAAKG,UAAWkB,IAAMC,kBAC3BtB,GAEL,6BACI,8CA4BDuB,uBANO,SAACC,GAAD,MAA6C,CAC/DC,OAAQD,EAAME,KAAKD,OACnBE,QAASH,EAAME,KAAKC,WAIc,CAACC,WAAxBL,EApBmD,SAAChB,GAI/D,OAAIA,EAAMkB,OACC,kBAAC,IAAD,CAAUI,GAAI,aAElB,6BACH,qCACA,kBAAClB,EAAD,CAAgBI,SARH,SAACe,GACdvB,EAAMqB,MAAME,EAASC,MAAOD,EAASE,SAAUF,EAASG,WAAYH,EAASH,UAOzCA,QAASpB,EAAMoB","file":"static/js/6.2ffb2d02.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__2ON-w\",\"error\":\"FormControls_error__1EbmF\",\"formSummaryError\":\"FormControls_formSummaryError__1KPHr\"};","export type FieldValidatorType=(value:string)=>string|undefined\r\n\r\nexport const required:FieldValidatorType=(value)=>{\r\n    if (value) return undefined;\r\n\r\n    return \"Field is required\"\r\n}\r\n\r\nexport  const maxLengthCreator=(maxLength:number): FieldValidatorType=>(value)=>{\r\n    if (value && value.length>maxLength) return `Max length is ${maxLength} symbols`;\r\n\r\n    return undefined\r\n}\r\n\r\nexport const minLength2:FieldValidatorType=(value)=>{\r\n    if (value && value.length<2) return 'Min length is 2 symbols';\r\n\r\n    return undefined\r\n}\r\n","import React from \"react\";\r\nimport styles from \"./FormControls.module.css\";\r\nimport {WrappedFieldMetaProps, WrappedFieldProps} from \"redux-form\";\r\n\r\ntype FormControlType={\r\n    meta:WrappedFieldMetaProps\r\n}\r\n\r\nexport const FormControl: React.FC<FormControlType> = ({meta:{touched, error},children}) => {\r\n    const hasError = touched && error\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport const Textarea: React.FC<WrappedFieldProps> = (props) => {\r\n   const {input, meta, ...restProps} = props\r\n    return <FormControl {...props}>  <textarea {...input} {...restProps}/>\r\n    </FormControl>\r\n\r\n}\r\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControl {...props}>\r\n        <input {...input} {...restProps}/>\r\n    </FormControl>\r\n}","import React from 'react'\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/FormControls/FormControls\";\r\nimport {required} from \"../../Utils/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../Redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {AppStateType} from \"../../Redux/redux-store\";\r\nimport style from './../common/FormControls/FormControls.module.css'\r\n\r\ntype FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captcha: string\r\n}\r\ntype MapDispatchPropsType = {\r\n    login: (email: string, password: string, rememberMe: boolean, captcha: string) => void\r\n\r\n}\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n    captcha: string | null\r\n}\r\ntype LoginFormOwnProps = {\r\n    captcha: string | null\r\n}\r\nconst LoginForm: React.FC<InjectedFormProps<FormDataType, LoginFormOwnProps> & LoginFormOwnProps> = ({handleSubmit,error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <Field placeholder={'email'} name={'email'} component={Input}\r\n                       validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field placeholder={'password'}  name={'password'} component={Input} type=\"password\"\r\n                       validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field component={Input} name={'rememberMe'} type=\"checkbox\"\r\n                /> remember me\r\n            </div>\r\n            {error && <div className={style.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm<FormDataType, LoginFormOwnProps>({form: 'login'})(LoginForm)\r\nconst Login: React.FC<MapDispatchPropsType & MapStatePropsType> = (props) => {\r\n    const onSubmit = (formData: FormDataType) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} captcha={props.captcha}/>\r\n    </div>\r\n\r\n}\r\n\r\nconst mapStateProps = (state: AppStateType): MapStatePropsType => ({\r\n    isAuth: state.auth.isAuth,\r\n    captcha: state.auth.captcha\r\n})\r\n\r\n// @ts-ignore\r\nexport default connect(mapStateProps, {login})(Login)\r\n"],"sourceRoot":""}